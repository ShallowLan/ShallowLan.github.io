(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c9096dfa"],{"02de":function(t,e,i){"use strict";function n(t){return"none"===window.getComputedStyle(t).display||null===t.offsetParent}i.d(e,"a",(function(){return n}))},"072b":function(t,e,i){},"0c8b":function(t,e,i){"use strict";var n=i("072b");i.n(n).a},"1b10":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,allowHtml:{type:Boolean,default:!0},visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44},swipeDuration:{type:Number,default:1e3}}},2994:function(t,e,i){"use strict";i("68ef"),i("c0c2")},"2bdd":function(t,e,i){"use strict";var n=i("d282"),s=i("02de"),o=i("5fbe"),r=i("a8c1"),a=i("543e"),c=Object(n.a)("list"),u=c[0],l=c[1],h=c[2];e.a=u({mixins:[Object(o.a)((function(t){this.scroller||(this.scroller=Object(r.c)(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.loading||t.finished||t.error)){var e,i=t.$el,n=t.scroller,o=t.offset,r=t.direction;if(!((e=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight}).bottom-e.top)||Object(s.a)(i))return!1;var a=t.$refs.placeholder.getBoundingClientRect();("up"===r?a.top-e.top<=o:a.bottom-e.bottom<=o)&&(t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()}},render:function(t){var e=t,i=e("div",{ref:"placeholder",class:l("placeholder")});return e("div",{class:l(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():i,this.loading&&e("div",{class:l("loading"),key:"loading"},[this.slots("loading")||e(a.a,{attrs:{size:"16"}},[this.loadingText||h("loading")])]),this.finished&&this.finishedText&&e("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&e("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction?this.slots():i])}})},"482d":function(t,e,i){"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,"a",(function(){return n}))},"5f5f":function(t,e,i){"use strict";i("68ef"),i("a526")},"64a1":function(t,e,i){"use strict";i.r(e);var n=i("75fc"),s=(i("7f7f"),i("2994"),i("2bdd")),o=(i("8a58"),i("e41f")),r=(i("5f5f"),i("f253")),a=i("f2da"),c=i("3191"),u={name:"Terrace",components:{Picker:r.a,Popup:o.a,List:s.a},data:function(){return{value:0,option:[],optionArr:[],Styleshow:!1,CityName:"",arrCity:[],resultNum:5,startIndex:0,DataList:[],areaId:"",flag:!1,finished:!1,loading:!1}},mounted:function(){var t=this;Object(a.b)({}).then((function(e){t.arrCity=e.data;for(var i=0;i<t.arrCity.length;i++)for(var n=0;n<t.arrCity[i].areaList.length;n++)t.option.push(t.arrCity[i].areaList[n].areaName),t.optionArr.push(t.arrCity[i].areaList[n])})),this.getCity()},methods:{ImgClick:function(t){this.$router.push("/terracelist?specialId=".concat(t.specialId))},getCity:function(){return this.CityName=this.$store.state.city.name,this.areaId=this.$store.state.city.id,this.NewAjax(),this.CityName},Cityclick:function(){this.Styleshow=!this.Styleshow},onConfirm:function(t,e){this.DataList=[],this.startIndex=0,this.resultNum=5,this.areaId=this.optionArr[e].areaId,this.CityName="".concat(t),this.NewAjax(),this.Styleshow=!1},onCancel:function(){this.Styleshow=!1},onLoad:function(){this.flag||(this.startIndex=this.startIndex+this.resultNum,this.NewAjax())},NewAjax:function(){var t=this,e={areaId:this.areaId,resultNum:this.resultNum,startIndex:this.startIndex};Object(c.a)(e).then((function(e){t.loading=!1,1===e.state&&(0===e.data.results.length&&(t.finished=!0,0===t.DataList.length&&(t.finished=!0)),t.flag?t.DataList=[].concat(Object(n.a)(t.DataList),Object(n.a)(e.data.results)):(t.DataList=e.data.results,t.flag=!0))}))}}},l=(i("0c8b"),i("2877")),h=Object(l.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"terrace"}},[i("div",{staticClass:"ter-head-img"}),i("div",{staticClass:"ter-nav"},[i("div",{staticClass:"ter-nav-city"},[i("div",{staticClass:"ter-nav-item"},[i("div",{staticClass:"cityname",on:{click:function(e){return t.Cityclick()}}},[t._v(t._s(t.CityName))])])]),i("List",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.DataList,(function(e,n){return i("div",{key:n,staticClass:"ter-activity",on:{click:function(i){return i.stopPropagation(),t.ImgClick(e)}}},[i("img",{attrs:{src:e.coverImg,alt:e.prodName}})])})),0)],1),i("div",[i("Popup",{style:{height:"40%"},attrs:{position:"bottom"},model:{value:t.Styleshow,callback:function(e){t.Styleshow=e},expression:"Styleshow"}},[i("Picker",{attrs:{columns:t.option,"show-toolbar":"",title:"城市"},on:{confirm:t.onConfirm,cancel:t.onCancel}})],1)],1)])}),[],!1,null,"10ca0dd1",null);e.default=h.exports},"8a58":function(t,e,i){"use strict";i("68ef"),i("09fe"),i("4d75")},a526:function(t,e,i){},c0c2:function(t,e,i){},e41f:function(t,e,i){"use strict";var n=i("d282"),s=i("a142"),o=i("6605"),r=i("ad06"),a=Object(n.a)("popup"),c=a[0],u=a[1];e.a=c({mixins:[o.a],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){function t(t){return function(i){return e.$emit(t,i)}}var e=this;this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},render:function(t){var e,i=t;if(this.shouldRender){var n=this.round,o=this.position,a=this.duration,c=this.transition||("center"===o?"van-fade":"van-popup-slide-"+o),l={};return Object(s.b)(a)&&(l.transitionDuration=a+"s"),i("transition",{attrs:{name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[i("div",{directives:[{name:"show",value:this.value}],style:l,class:u((e={round:n},e[o]=o,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&i(r.a,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:u("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},f253:function(t,e,i){"use strict";var n=i("1988"),s=i("d282"),o=i("1325"),r=i("1128");function a(t){return Array.isArray(t)?t.map((function(t){return a(t)})):"object"==typeof t?Object(r.a)({},t):t}var c=i("1b10"),u=i("b1d2"),l=i("543e"),h=i("2638"),f=i.n(h),d=i("a142"),m=i("482d"),p=i("3875"),g=Object(s.a)("picker-column"),v=g[0],b=g[1];function x(t){return Object(d.c)(t)&&t.disabled}var y=v({mixins:[p.a],props:{valueKey:String,allowHtml:Boolean,className:String,itemHeight:Number,defaultIndex:Number,swipeDuration:Number,visibleItemCount:Number,initialOptions:{type:Array,default:function(){return[]}}},data:function(){return{offset:0,duration:0,options:a(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2}},methods:{onTouchStart:function(t){if(this.touchStart(t),this.moving){var e=function(t){var e=window.getComputedStyle(t),i=e.transform||e.webkitTransform,n=i.slice(7,i.length-1).split(", ")[5];return Number(n)}(this.$refs.wrapper);this.offset=Math.min(0,e-this.baseOffset),this.startOffset=this.offset}else this.startOffset=this.offset;this.duration=0,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset},onTouchMove:function(t){this.moving=!0,this.touchMove(t),"vertical"===this.direction&&Object(o.c)(t,!0),this.offset=Object(m.a)(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var e=Date.now();300<e-this.touchStartTime&&(this.touchStartTime=e,this.momentumOffset=this.offset)},onTouchEnd:function(){var t=this.offset-this.momentumOffset,e=Date.now()-this.touchStartTime;if(e<300&&15<Math.abs(t))this.momentum(t,e);else{var i=this.getIndexByOffset(this.offset);this.moving=!1,this.duration=200,this.setIndex(i,!0)}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.moving||(this.duration=200,this.setIndex(t,!0))},adjustIndex:function(t){for(var e=t=Object(m.a)(t,0,this.count);e<this.count;e++)if(!x(this.options[e]))return e;for(var i=t-1;0<=i;i--)if(!x(this.options[i]))return i},getOptionText:function(t){return Object(d.c)(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){var i=this;function n(){t!==i.currentIndex&&(i.currentIndex=t,e&&i.$emit("change",t))}t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,this.moving?this.transitionEndTrigger=n:n()},setValue:function(t){for(var e=this.options,i=0;i<e.length;i++)if(this.getOptionText(e[i])===t)return this.setIndex(i)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return Object(m.a)(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,e){var i=Math.abs(t/e);t=this.offset+i/.002*(t<0?-1:1);var n=this.getIndexByOffset(t);this.duration=this.swipeDuration,this.setIndex(n,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)},genOptions:function(){var t=this,e=this.$createElement,i={height:this.itemHeight+"px"};return this.options.map((function(n,s){var o=t.getOptionText(n),r=x(n),a={style:i,attrs:{role:"button",tabindex:r?-1:0},class:["van-ellipsis",b("item",{disabled:r,selected:s===t.currentIndex})],on:{click:function(){t.onClickItem(s)}}};return t.allowHtml&&(a.domProps={innerHTML:o}),e("li",f()([{},a]),[t.allowHtml?"":o])}))}},render:function(t){var e=t,i={transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"all":"none",lineHeight:this.itemHeight+"px"};return e("div",{class:[b(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[e("ul",{ref:"wrapper",style:i,class:b("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.genOptions()])])}}),C=Object(s.a)("picker"),I=C[0],w=C[1],O=C[2];e.a=I({props:Object(n.a)({},c.a,{defaultIndex:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:"setColumns"},methods:{setColumns:function(){var t=this;(this.simple?[{values:this.columns}]:this.columns).forEach((function(e,i){t.setColumnValues(i,a(e.values))}))},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var i=this.getColumn(t);i&&i.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var i=this.getColumn(t);i&&i.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var i=this.children[t];i&&JSON.stringify(i.options)!==JSON.stringify(e)&&(i.options=e,i.setIndex(0))},getValues:function(){return this.children.map((function(t){return t.getValue()}))},setValues:function(t){var e=this;t.forEach((function(t,i){e.setColumnValue(i,t)}))},getIndexes:function(){return this.children.map((function(t){return t.currentIndex}))},setIndexes:function(t){var e=this;t.forEach((function(t,i){e.setColumnIndex(i,t)}))},onConfirm:function(){this.children.map((function(t){return t.stopMomentum()})),this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var e=this,i=this.itemHeight,n=i*this.visibleItemCount,s=this.simple?[this.columns]:this.columns,r={height:i+"px"},a={height:n+"px"},c={backgroundSize:"100% "+(n-i)/2+"px"},h=this.showToolbar&&t("div",{class:[u.e,w("toolbar")]},[this.slots()||[t("button",{class:w("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||O("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",w("title")]},[this.title]),t("button",{class:w("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||O("confirm")])]]);return t("div",{class:w()},["top"===this.toolbarPosition?h:t(),this.loading?t(l.a,{class:w("loading")}):t(),this.slots("columns-top"),t("div",{class:w("columns"),style:a,on:{touchmove:o.c}},[s.map((function(i,n){return t(y,{attrs:{valueKey:e.valueKey,allowHtml:e.allowHtml,className:i.className,itemHeight:e.itemHeight,defaultIndex:i.defaultIndex||e.defaultIndex,swipeDuration:e.swipeDuration,visibleItemCount:e.visibleItemCount,initialOptions:e.simple?i:i.values},on:{change:function(){e.onChange(n)}}})})),t("div",{class:w("mask"),style:c}),t("div",{class:[u.f,w("frame")],style:r})]),this.slots("columns-bottom"),"bottom"===this.toolbarPosition?h:t()])}})},f2da:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i("96cf");var n=i("3b8d"),s=i("4020");function o(){return r.apply(this,arguments)}function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s.a)("/index/hotcities"));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return c.apply(this,arguments)}function c(){return(c=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(s.a)("/index/allcities"));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);