(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e01366d4"],{"02ea":function(t,e,n){t.exports=n.p+"img/goodSale-mini.c42792df.png"},"3fcb":function(t,e,n){"use strict";n.r(e),n("e17f");var r=n("2241"),a=(n("a481"),n("8a58"),n("e41f")),o=(n("ac1e"),n("543e")),c=n("3105"),i=n("c4c8"),s=n("46a74"),u=n.n(s),p=n("4c39"),d=n.n(p),f=n("c24f"),l=n("b53b"),h={name:"ProductPayStatus",data:function(){return{loading:!0,DialogShow:!1,DialogUrl:"",shareShow:!1,show:!1,copeText:"",tp1:u.a,isattention:!0,tp2:d.a,orderId:"",data:{},PopupShowType:0,status:0,shareId:"",custId:"",historyURL:"",text:"",showAtten:!1,code:"",text1:"",text2:"以便获得即时快捷的订单服务"}},components:{Loading:o.a,ShareProduct:l.a,Popup:a.a},computed:{getCity:function(){return this.$store.state.city},getUserInfo:function(){return this.$store.state.userInfo},browser:function(){return window.$browser.WeChat},mini:function(){return"miniprogram"===window.__wxjs_environment}},methods:{CalculationPrice:c.a,closePop:function(){this.showAtten=!1},handleClick:function(){this.show=!0},handleLookOrder:function(){location.replace("/orderallpay/".concat(this.orderId,"?isgo=pay"))},handleRule:function(){this.$router.push("/invite")},handleReorder:function(){this.$router.push("/product/".concat(this.orderId))},getAttentionCode:function(){var t=this;Object(i.a)({sceneId:332}).then((function(e){1===e.state&&e.data?(t.showAtten=!0,t.isattention=!1):0===e.state&&(t.showAtten=!1,t.isattention=!1)}))},initDataList:function(t){var e=this;Object(i.b)(this.orderId).then((function(n){if(1===n.state){var r=n.data;e.data=r,e.status=r.state,2===r.state&&(e.loading=!1,t&&e.isattention&&(_czc.push(["_trackEvent","支付成功","记录一次支付成功"]),e.getAttentionCode())),e.text="".concat(e.data.infoTitle," 链接:").concat(location.origin,"/product/").concat(e.data.infoId,"?shareId=").concat(e.shareId,"&custId=").concat(e.custId);var a="".concat(location.origin,"/product/").concat(n.data.infoId,"?shareId=").concat(e.shareId,"&custId=").concat(e.custId);t&&e.$share(n.data.infoTitle,n.data.content,a,n.data.signImg)}}))},outTime:function(){var t=this,e=30,n=setInterval((function(){2===t.status&&(t.initDataList(!0),t.userLog(1),clearInterval(n)),e<=0&&(t.userLog(0),1===t.status?(location.replace("/orderallpay/".concat(t.orderId,"?isgo=pay")),clearInterval(n)):r.a.confirm({title:"支付遇见问题？",confirmButtonText:"已支付查看订单",cancelButtonText:"联系客服"}).then((function(){location.replace("/orderallpay/".concat(t.orderId,"?isgo=pay"))})).catch((function(){window.qimoChatClick()})),clearInterval(n)),t.initDataList(!1),e-=1}),1600)},userLog:function(t){var e={actionCode:"visit_placeorder",actionName:"支付",actionRemark:"支付事件",actionType:1,areaId:this.getCity.id,infoId:this.data.infoId,currentAddress:location.href,sourceAddress:this.historyURL,isSuccess:t};Object(f.t)(e).then((function(t){}))},setHistoryURL:function(t){this.historyURL=t}},mounted:function(){0==this.getUserInfo.shareId?(this.shareId=localStorage.getItem("shareId"),this.custId=localStorage.getItem("custId")):(this.shareId=this.getUserInfo.shareId,this.custId=this.getUserInfo.custId),this.$route.query.payfrom?this.orderId=this.$route.query.orderId:this.orderId=this.$router.history.current.query.order_id,this.initDataList(!0),this.outTime()},beforeRouteEnter:function(t,e,n){var r=e.fullPath;n((function(t){return t.setHistoryURL(r)}))}},b=(n("794a"),n("2877")),m=Object(b.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{type:"spinner",vertical:""}},[t._v("加载中...")]),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"pay-status"},[r("div",{staticClass:"pay-top-bg"}),r("div",{staticClass:"pay-top-main"},[2==t.status?r("i",{staticClass:"iconfont"},[t._v("")]):r("i",{staticClass:"iconfont"},[t._v("")]),r("div",{staticClass:"oks"},[r("p",[t._v(t._s(2==t.status?"支付成功":"支付失败"))]),1<t.getUserInfo.bc&&2==t.status?r("span",[t._v("\n          (省"+t._s(t.CalculationPrice(t.data.memOrderMoney-t.data.orderMoney))+"元)\n        ")]):t._e()]),2==t.status?r("span",{staticClass:"btn",on:{click:t.handleLookOrder}},[t._v("查看订单详情")]):t._e()]),1<t.getUserInfo.bc&&2==t.status?r("div",{staticClass:"invite"},[r("img",{attrs:{src:t.tp1,alt:""}}),r("p",[t._v("自购省钱，分享赚钱")]),r("p",[t._v("\n        邀请好友购买商品每单赚\n        "),r("span",[t._v(t._s(t.CalculationPrice(t.data.memOrderMoney-t.data.orderMoney))+"元")])]),r("span",{staticClass:"btn",on:{click:t.handleClick}},[t._v("立即邀请")])]):t._e(),0===t.getUserInfo.bc&&2==t.status?r("div",{staticClass:"invite-ordinary"},[r("p",[t._v("升级团长即可获得")]),t._m(0),r("span",{staticClass:"btn",on:{click:t.handleClick}},[t._v("邀请1位客户下单即可升级")]),r("div",{staticClass:"tips"},[t._v("提示：转发到群里成功率提高200%")]),r("img",{staticClass:"code",attrs:{src:n("50dc"),alt:"二维码"}})]):t._e(),2!=t.status?r("span",{staticClass:"reset",on:{click:t.handleReorder}},[t._v("重新下单")]):t._e(),r("ShareProduct",{attrs:{content:{type:0===t.getUserInfo.bc?1:0,text:t.text,showMakingMoney:0===t.getUserInfo.bc,showPosBtn:0===t.getUserInfo.bc,option:{},profit:t.CalculationPrice(t.data.memOrderMoney-t.data.orderMoney)},"product-deteil":t.data},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),r("Popup",{staticClass:"show-code",model:{value:t.showAtten,callback:function(e){t.showAtten=e},expression:"showAtten"}},[r("div",{staticClass:"show-code-top"},[t.mini?r("img",{attrs:{src:n("02ea"),alt:""}}):r("img",{attrs:{src:n("aaee"),alt:""}})]),r("div",{staticClass:"close-btn",on:{click:t.closePop}},[r("img",{attrs:{src:n("cf1c"),alt:""}})])])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invite-price"},[n("span",{staticClass:"invite-money"},[t._v("20")]),n("span",{staticClass:"invite-yuan"},[t._v(" 元")]),n("div",{staticClass:"invite-tips"},[t._v("最高")])])}],!1,null,"0c0cde5e",null);e.default=m.exports},"46a74":function(t,e,n){t.exports=n.p+"img/tp1.71fca478.png"},"4c39":function(t,e,n){t.exports=n.p+"img/tp2.061bbe4b.png"},"50dc":function(t,e,n){t.exports=n.p+"img/code.177c3d37.png"},"5e28":function(t,e,n){},"794a":function(t,e,n){"use strict";var r=n("5e28");n.n(r).a},aaee:function(t,e,n){t.exports=n.p+"img/goodSale.1fef4d94.png"},ac1e:function(t,e,n){"use strict";n("68ef")},c4c8:function(t,e,n){"use strict";n.d(e,"l",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"n",(function(){return b})),n.d(e,"m",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return A})),n.d(e,"b",(function(){return I})),n.d(e,"i",(function(){return C})),n.d(e,"a",(function(){return R})),n.d(e,"e",(function(){return P})),n.d(e,"d",(function(){return D})),n.d(e,"f",(function(){return z})),n.d(e,"g",(function(){return L})),n.d(e,"o",(function(){return S})),n.d(e,"h",(function(){return q})),n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),a=(n("96cf"),n("3b8d")),o=n("4020"),c=n("ca43"),i=n("4360");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=n("a1bc");function d(t){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},i.a.state.userInfo.bc&&1<i.a.state.userInfo.bc&&(n.custId=i.a.state.userInfo.custId),t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/product/product/").concat(e,"?").concat(Object(c.a)(n))));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/snapup/product/content/".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/snapup/rushRemind",{method:"POST",body:u({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/product/reservation?").concat(Object(c.a)(e),"&time=").concat((new Date).getTime())));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/order/pay/".concat(e,"?").concat(Object(c.a)(n))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/order/order"),{method:"POST",body:u({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/order/checkOrderPay/".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return x.apply(this,arguments)}function x(){return(x=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/order/img/".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/user/attentionCode?".concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return U.apply(this,arguments)}function U(){return(U=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/index/areaName?".concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t){return T.apply(this,arguments)}function T(){return(T=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/coupon/couponCodeList?").concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(t){return B.apply(this,arguments)}function B(){return(B=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/order/order/sendCode?").concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return V.apply(this,arguments)}function V(){return(V=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/product/view/").concat(e.infoId,"?lonlat=").concat(e.lonlat)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return M.apply(this,arguments)}function M(){return(M=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/product/zeroProductList?").concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(a.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("".concat(p.coreApi,"/product/judgeZeroProduct?").concat(Object(c.a)(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},cf1c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAArlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8tivQqAAAAOXRSTlMA9/se7BMDmZyAJAe2CrIt9PCo5irXDs3JMhpG28FSMNHFvK3fFuJAO5VtoYVnTJCKeHVhNnFbVnxsLPjAAAAG7ElEQVRo3q2a52KqMBSAw1QZypAlsgQVB7i1vv+L3STUy5XamyCeP62S8OXMnKQFVCKq8+j6tUqDOFuY5mLqBMbuEI4FFXxKRFkqL/2ZM13wDMveobCsxi8sV+ld/IksfgAhS6deMOXvL4W3ZrurJHdUYhKuEvP5xSz7/HER7H1b7KDEWsnYv+9m9MyZDVPDSIeBs9CZvzDGSk+T9zCidAz4x2t4x9gWZR6NJYnjJGnk5eV6l1r6A2QqxeQNxmQd6N+ERfpVRpzdXIQgnW9bxWQemJvd1lJ+WmnB6rPDUvo1VG3J3yZahclW51YhIA2sCpH1b2PCTHt0Svkqsp21QO8NX9GqwFkt51RrCo1Kb77vUQaAWsR4hm741AvjbgqD1xWEMpXHtyYenpy4VhY+xNhm07VNMXijYcV3UcvIV3OjmrklmjgastiFJwG0Fu6QIYq2IqSMp2BTDZdvJbAaumiJTP+/hh5hBtMfgzclH1aU/+gipVjdHQfeltGGQZTVr9aeb9AydOi4DiL1EUUbqL9YdI8fb+EiulPM9ct8kQsTMfaQ0ZFiIINY5atny7gOjG4S4fCZvYgeboieDEfgA7J0UB6s7B/G2iJLxkvwEbmZyC2nZrL5FqoI1dfdRR2gJScNgwkpUnBngw+JhIzP7J7iWCzQfuBG4GPiL1BF9p/AAcrCprHksUepmuBJzbnIYOzmn/niUYffGJPGuFNi0VWY8caa+Q3KKEHbfthQxPSbU11o1h4FZYSqotIoRmKBdhfD/vt5zUNFftQ0z6qzk1y63UnT98qTV+bKK0WAsNdqColhXpq1SjzB6WzvEWBhBj/1f9ZebsWQKWNcKfiB8PMJcoITfWdOD5pUD1/tpz0CBTHYXxhAvsDZ+lGsjJegciYBMoVeDyz5FFVDobKdCd9zlAGB0poB5shE1hJbqw9/XaBfyRR6BparBu11EB9JMpQAidKeAbz4O1XEElqOOaiASGnNABPUNLgjaK2DDkeWAJAp1HFVZzmcmd1EIPTraCZT6BlYfFhKtC8VeDNUGzlATSHbqpaRCwdtBHB1IGRrA3oKPQNwqHGZReAL+b0AgJ5CzwD2Hnk+BKsFjOUSUFPIjKbnrQsYQt9kOWhDqX1OlJsG374HAYM3d2pKj5PoGTi8zD6IWdzsUVP0zZChZuAayacgY3FRoaewJD2ahUVXgAmnpRKgo6y+bxBMSgaIXJiNM2CScrFZjKDoAxtQQhLoxqAdREoxhFlNQAtNAoA6PVpzjZDPsSo9ymV5DjbXtHY8Xe+j1VlJlrOFHe9ASDCiYyBbmdudTk/JMxiJBghgTjoeJQPH7qTOfbpk7AED/ljkLRjE7qK5y0+3YIcKZNiGQaI0W6+4AEcLDl+L9Iw2FAGX+hKELkyUvUDNIFOaVxzKGIwVnCjUDDKl2RP1BCCsUJt3pmS0pJQ66oZVoK557Hl6Bj1FPsIh01IEom/hToKeQU/hDHTQRq6YzHBTT8+gp+C2fqMinXYsfIlPZrSm4GMjX6XHbQHtNVBJjPaUicH+LVlccEdtMYnRnrJE24hRrV5Gl2naSSQwWlPUAfJDIX4TLZSPHIFB6pReZ2LyiCjbQO/6kSpzo2YQKdpWfVUcmb38iIKr+eLWA5yzmkGmOJNXHX2cg6fbAv3W8IoEE8j8ggwyRbuzm8ZA+cDUdwXVAZhH1VJqhPkyTS4C3d8Qkl4zOnPkaGv5r/mH9xfHbFGYy4BK1HmzLOG6yz7fqoX4DqzmdhXxyt+bvUN19XE3uE9BvARF3EFufOvW33aXOV7zcPLjTIT0M8OPMOSLjqxf/tzz+wju5p0JDw8zX+qLQhU0rrg7XnAb85f8KXq2kboyzjO02uT82pLYLUy/I8XDR0or/KWVs7caomzGnfTADLP4NU6F6tLRiDr4Y4ZL90H9TxHqIwqrLMX3EGroUBz3qmPB3bnab+XgMauuKgizJ/CIg4860hsu71Vzj8QVCgMTnz2HvtpSjWuCT61WQTFRLaw7kukgklt44/x9xk9CqllyOWOwMsl6TBkAcvQVVyf89EwbM+OdiVelzYqRTKGFd3QZPMH6arFZ2KeEqTDBMZ//f3vilgOnGqwrpdxqZxvtrcc/pfSv3kT8xUxcXhhZhWCcQ+uIlJebrMKwWrxZ+xFnP5FkgfPKgzHV2GpQvPfe2fHscGOx3xyGd439+ubn5yiKvHPuX4+7NNaZeyVMvMsx4h2Mv3L5+n+IGI2fxo7rOlbGawzmYzGTfa522UijC1zw/T/Cx0Yxlrs2N8LyaLiZ/hIwTfrrc+2rThx1dDtsFNfKTF7XGEbT+cU0Toa9SympDUI3znwUXrY9Q5kFwWxorAZFORZoCX8A2FZV8Yms2/cAAAAASUVORK5CYII="}}]);